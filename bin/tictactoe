#!/usr/bin/env ruby

require_relative '../config/environment'

puts "Welcome to Tic-Tac-Toe!"
puts "Please select the number of players (0, 1, or 2):"

a = gets.strip
    if a == "0" || a == "1" || a == "2"
      num_players = a
    else
      puts "Invalid entry, please select the number of players (0, 1, or 2)."
      start
    end

  puts "Will Player 1 or Player 2 be X? Please enter either 1 or 2:"
  gets.strip
    if gets.strip == "1" || gets.strip == "2"
      first_p = gets.strip
    else
      puts "Invalid entry."
      start
    end
      if num_players == "0"
        if first_p == "2"
          new_game = Game.new(Players::Computer.new("O"), Players::Computer.new("X"))
        else
          new_game = Game.new(Players::Computer.new("X"), Players::Computer.new("O"))
        end
      elsif num_players == "1"
        if first_p == "2"
          new_game = Game.new(Players::Human.new("O"), Players::Computer.new("X"))
        else
          new_game = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
        end
      else
        if first_p == "2"
          new_game = Game.new(Players::Human.new("O"), Players::Human.new("X"))
        else
          new_game = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
        end
      end
    new_game.play
    "Would you like to play again? (y/n)"
    gets.strip
    if gets.strip == "y"
      start
    else
      "Thank you for playing Tic-Tac-Toe!"
      exit
    end
